## 工具函数

!>该版本提供的工具函数均为试验性函数，后期随时可能更改或移除

### 文本读取
- 敬请期待（或者您也可以在 Github 或群里提交您编写的文档）



### 数据库操作
#### 说明
类名：`Sqlite`
对 Sqlite3 的原始函数做了简易封装
- 相对路径以框架主程序所在位置为准，您可以通过`os.path.dirname(__file__)`获取插件文件所在的路径
- 使用前请先对 `Sqlite` 类进行实例化，如：`sql = Sqlite()`
#### 连接数据库
函数名：`connect()`
##### 说明
用于连接 Sqlite 数据库，若不存在则自动创建
##### 参数
| 字段名 | 数据类型 | 默认值 | 说明 |
| :---- | :---- | :---- | :---- |
| `file_path` | str | - | Sqlite（.db）数据库文件所在路径 |
##### 返回
| 数据类型 | 可能的值 | 说明 |
| :---- | :---- | :---- |
| None | `None` | - |
##### 示例
`sql.connect('./test.db')`


#### 新建数据表
函数名：`new()`
##### 说明
如果数据表不存在则新建数据表（数据表含有id列）
##### 参数
| 字段名 | 数据类型 | 默认值 | 说明 |
| :---- | :---- | :---- | :---- |
| `file_path` | str | - | Sqlite（.db）数据库文件所在路径 |
##### 返回
| 数据类型 | 可能的值 | 说明 |
| :---- | :---- | :---- |
| None | `None` | - |
##### 示例A
`sql.new(table_name = '数据表表名', info1 = 'INT', info2 = 'TEXT')`
##### 示例B：
`sql.new(table_name = '数据表表名', **{'info1': 'INT', 'info2': 'TEXT'})`


#### 查询数据
函数名：`read()`
##### 说明
根据 [条件语句](https://blog.csdn.net/csucsgoat/article/details/115357650) 查询数据库内容，注意：条件语句已包含 `WHERE `
##### 参数
| 字段名 | 数据类型 | 默认值 | 说明 |
| :---- | :---- | :---- | :---- |
| `table_name` | str | - | 数据表表名 |
| `keys` | list[str]、str | `*` | 需要读取的列名（默认读取全部） |
| `condition` | str | `'1=1'` | 条件语句 |
##### 返回
| 数据类型 | 可能的值 | 说明 |
| :---- | :---- | :---- |
| list[tuple] | - | 符合条件的数据列表 |
##### 示例A
`sql.new(table_name = '数据表表名', info1 = 'INT', info2 = 'TEXT')`
##### 示例B：
`sql.new(table_name = '数据表表名', **{'info1': 'INT', 'info2': 'TEXT'})`


#### 写入数据
函数名：`write()`
##### 说明
向数据库中新写入一行数据
##### 参数
| 字段名 | 数据类型 | 默认值 | 说明 |
| :---- | :---- | :---- | :---- |
| `table_name` | str | - | 数据表表名 |
| `commit` | bool | `True` | 是否提交更改 |
| `condition` | str | `'1=1'` | 条件语句 |
| `**kwargs` | dict | - | 需要写入的数据（可变参数） |
##### 返回
| 数据类型 | 可能的值 | 说明 |
| :---- | :---- | :---- |
| None | `None` | - |
##### 示例A
`sql.write(table_name = '数据表表名', commit = True, info1 = "测试")`
##### 示例B：
`sql.write(table_name = '数据表表名', commit = True, **{info1: "测试"})`


#### 删除数据
函数名：`delete()`
##### 说明
根据 [条件语句](https://blog.csdn.net/csucsgoat/article/details/115357650) 删除数据库内容
##### 参数
| 字段名 | 数据类型 | 默认值 | 说明 |
| :---- | :---- | :---- | :---- |
| `table_name` | str | - | 数据表表名 |
| `condition` | str | `'1=1'` | 条件语句 |
##### 返回
| 数据类型 | 可能的值 | 说明 |
| :---- | :---- | :---- |
| None | `None` | - |
##### 示例A
`sql.write(table_name = '数据表表名', commit = True, info1 = "测试")`
##### 示例B：
`sql.write(table_name = '数据表表名', commit = True, **{info1: "测试"})`


#### 更新数据
函数名：`update()`
##### 说明
根据 [条件语句](https://blog.csdn.net/csucsgoat/article/details/115357650) 更新数据库中已存在的内容
##### 参数
| 字段名 | 数据类型 | 默认值 | 说明 |
| :---- | :---- | :---- | :---- |
| `table_name` | str | - | 数据表表名 |
| `condition` | str | `'1=1'` | 条件语句 |
| `**kwargs` | dict | - | 需要更新的数据（可变参数） |
##### 返回
| 数据类型 | 可能的值 | 说明 |
| :---- | :---- | :---- |
| None | `None` | - |
##### 示例A
`sql.update(table_name = '数据表表名', condition = '1=1', info1 = "测试2")`
##### 示例B：
`sql.update(table_name = '数据表表名', condition = '1=1', {info1: "测试2"})`


#### 智能写入数据
函数名：`auto_write()`
##### 说明
根据 [条件语句](https://blog.csdn.net/csucsgoat/article/details/115357650) 更新或写入数据库中已存在的内容。若数据不存在则新写入一行，若数据存在则更新数据
##### 参数
| 字段名 | 数据类型 | 默认值 | 说明 |
| :---- | :---- | :---- | :---- |
| `table_name` | str | - | 数据表表名 |
| `condition` | str | `'1=1'` | 条件语句 |
| `**kwargs` | dict | - | 需要更新的数据（可变参数） |
##### 返回
| 数据类型 | 可能的值 | 说明 |
| :---- | :---- | :---- |
| None | `None` | - |
##### 示例A
`sql.auto_write(table_name = '数据表表名', condition = 'id=2', info2 = "测试3")`
##### 示例B：
`sql.auto_write(table_name = '数据表表名', condition = 'id=2', {info2: "测试3"})`


#### 提交更改
函数名：`commit()`
##### 说明
提交对数据库的更改
- 之前的函数均默认自动提交更改，若特别指定了不自动提交更改，请记得运行此函数提交更改
##### 参数
- 此函数不存在参数
##### 返回
| 数据类型 | 可能的值 | 说明 |
| :---- | :---- | :---- |
| None | `None` | - |
##### 示例
`sql.commit()`


#### 断开数据库
函数名：`close()`
##### 说明
断开与数据库的连接
- 为了数据安全，建议您在程序关闭前，或完全不用时断开与数据库的连接
##### 参数
- 此函数不存在参数
##### 返回
| 数据类型 | 可能的值 | 说明 |
| :---- | :---- | :---- |
| None | `None` | - |
##### 示例
`sql.close()`